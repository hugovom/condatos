/*! condatos 2014-09-23 */
!function(a){"use strict";var b=!1;if("undefined"!=typeof module&&module.exports){b=!0;var c=require("request")}var d=!1,e=!1;try{var f=new XMLHttpRequest;"undefined"!=typeof f.withCredentials?d=!0:"XDomainRequest"in window&&(d=!0,e=!0)}catch(g){}var h=Array.prototype.indexOf,i=function(a,b){var c=0,d=a.length;if(h&&a.indexOf===h)return a.indexOf(b);for(;d>c;c++)if(a[c]===b)return c;return-1},j=function(a){return this&&this instanceof j?("string"==typeof a&&(a={key:a}),this.callback=a.callback,this.wanted=a.wanted||[],this.key=a.key,this.simpleSheet=!!a.simpleSheet,this.parseNumbers=!!a.parseNumbers,this.wait=!!a.wait,this.reverse=!!a.reverse,this.postProcess=a.postProcess,this.debug=!!a.debug,this.query=a.query||"",this.orderby=a.orderby,this.endpoint=a.endpoint||"https://spreadsheets.google.com",this.singleton=!!a.singleton,this.simple_url=!!a.simple_url,this.callbackContext=a.callbackContext,"undefined"!=typeof a.proxy&&(this.endpoint=a.proxy.replace(/\/$/,""),this.simple_url=!0,this.singleton=!0,d=!1),this.parameterize=a.parameterize||!1,this.singleton&&("undefined"!=typeof j.singleton&&this.log("WARNING! Tabletop singleton already defined"),j.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)&")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.model_names=[],this.base_json_path="/feeds/worksheets/"+this.key+"/public/basic?alt=",this.base_json_path+=b||d?"json":"json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new j(a)};j.callbacks={},j.init=function(a){return new j(a)},j.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},j.prototype={fetch:function(a){"undefined"!=typeof a&&(this.callback=a),this.requestData(this.base_json_path,this.loadSheets)},requestData:function(a,c){if(b)this.serverSideFetch(a,c);else{var f=this.endpoint.split("//").shift()||"http";!d||e&&f!==location.protocol?this.injectScript(a,c):this.xhrFetch(a,c)}},xhrFetch:function(a,b){var c=e?new XDomainRequest:new XMLHttpRequest;c.open("GET",this.endpoint+a);var d=this;c.onload=function(){try{var a=JSON.parse(c.responseText)}catch(e){console.error(e)}b.call(d,a)},c.send()},injectScript:function(a,b){var c,d=document.createElement("script");if(this.singleton)b===this.loadSheets?c="Tabletop.singleton.loadSheets":b===this.loadSheet&&(c="Tabletop.singleton.loadSheet");else{var e=this;c="tt"+ +new Date+Math.floor(1e5*Math.random()),j.callbacks[c]=function(){var a=Array.prototype.slice.call(arguments,0);b.apply(e,a),d.parentNode.removeChild(d),delete j.callbacks[c]},c="Tabletop.callbacks."+c}var f=a+"&callback="+c;d.src=this.simple_url?-1!==a.indexOf("/list/")?this.endpoint+"/"+this.key+"-"+a.split("/")[4]:this.endpoint+"/"+this.key:this.endpoint+f,this.parameterize&&(d.src=this.parameterize+encodeURIComponent(d.src)),document.getElementsByTagName("script")[0].parentNode.appendChild(d)},serverSideFetch:function(a,b){var d=this;c({url:this.endpoint+a,json:!0},function(a,c,e){return a?console.error(a):void b.call(d,e)})},isWanted:function(a){return 0===this.wanted.length?!0:-1!==i(this.wanted,a)},data:function(){return 0===this.model_names.length?void 0:this.simpleSheet?(this.model_names.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.model_names[0]].all()):this.models},addWanted:function(a){-1===i(this.wanted,a)&&this.wanted.push(a)},loadSheets:function(a){var c,e,f=[];for(this.foundSheetNames=[],c=0,e=a.feed.entry.length;e>c;c++)if(this.foundSheetNames.push(a.feed.entry[c].title.$t),this.isWanted(a.feed.entry[c].content.$t)){var g=a.feed.entry[c].link.length-1,h=a.feed.entry[c].link[g].href.split("/").pop(),i="/feeds/list/"+this.key+"/"+h+"/public/values?alt=";i+=b||d?"json":"json-in-script",this.query&&(i+="&sq="+this.query),this.orderby&&(i+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(i+="&reverse=true"),f.push(i)}for(this.sheetsToLoad=f.length,c=0,e=f.length;e>c;c++)this.requestData(f[c],this.loadSheet)},sheets:function(a){return"undefined"==typeof a?this.models:"undefined"==typeof this.models[a]?void 0:this.models[a]},loadSheet:function(a){var b=new j.Model({data:a,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this});this.models[b.name]=b,-1===i(this.model_names,b.name)&&this.model_names.push(b.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},j.Model=function(a){var b,c,d,e;if(this.column_names=[],this.name=a.data.feed.title.$t,this.elements=[],this.raw=a.data,"undefined"==typeof a.data.feed.entry)return a.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),void(this.elements=[]);for(var f in a.data.feed.entry[0])/^gsx/.test(f)&&this.column_names.push(f.replace("gsx$",""));for(b=0,d=a.data.feed.entry.length;d>b;b++){for(var g=a.data.feed.entry[b],h={},c=0,e=this.column_names.length;e>c;c++){var i=g["gsx$"+this.column_names[c]];h[this.column_names[c]]="undefined"!=typeof i?a.parseNumbers&&""!==i.$t&&!isNaN(i.$t)?+i.$t:i.$t:""}void 0===h.rowNumber&&(h.rowNumber=b+1),a.postProcess&&a.postProcess(h),this.elements.push(h)}},j.Model.prototype={all:function(){return this.elements},toArray:function(){var a,b,c,d,e=[];for(a=0,c=this.elements.length;c>a;a++){var f=[];for(b=0,d=this.column_names.length;d>b;b++)f.push(this.elements[a][this.column_names[b]]);e.push(f)}return e}},b?module.exports=j:a.Tabletop=j}(this),$(document).ready(function(){$(".popoverable").popover({}),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),$("a.tw").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"twitter",f),!1}),$("a.fb").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"facebook",f),!1})}),!function(a){"use strict";var b=!1;if("undefined"!=typeof module&&module.exports){b=!0;var c=require("request")}var d=!1,e=!1;try{var f=new XMLHttpRequest;"undefined"!=typeof f.withCredentials?d=!0:"XDomainRequest"in window&&(d=!0,e=!0)}catch(g){}var h=Array.prototype.indexOf,i=function(a,b){var c=0,d=a.length;if(h&&a.indexOf===h)return a.indexOf(b);for(;d>c;c++)if(a[c]===b)return c;return-1},j=function(a){return this&&this instanceof j?("string"==typeof a&&(a={key:a}),this.callback=a.callback,this.wanted=a.wanted||[],this.key=a.key,this.simpleSheet=!!a.simpleSheet,this.parseNumbers=!!a.parseNumbers,this.wait=!!a.wait,this.reverse=!!a.reverse,this.postProcess=a.postProcess,this.debug=!!a.debug,this.query=a.query||"",this.orderby=a.orderby,this.endpoint=a.endpoint||"https://spreadsheets.google.com",this.singleton=!!a.singleton,this.simple_url=!!a.simple_url,this.callbackContext=a.callbackContext,"undefined"!=typeof a.proxy&&(this.endpoint=a.proxy.replace(/\/$/,""),this.simple_url=!0,this.singleton=!0,d=!1),this.parameterize=a.parameterize||!1,this.singleton&&("undefined"!=typeof j.singleton&&this.log("WARNING! Tabletop singleton already defined"),j.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)&")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.model_names=[],this.base_json_path="/feeds/worksheets/"+this.key+"/public/basic?alt=",this.base_json_path+=b||d?"json":"json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new j(a)};j.callbacks={},j.init=function(a){return new j(a)},j.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},j.prototype={fetch:function(a){"undefined"!=typeof a&&(this.callback=a),this.requestData(this.base_json_path,this.loadSheets)},requestData:function(a,c){if(b)this.serverSideFetch(a,c);else{var f=this.endpoint.split("//").shift()||"http";!d||e&&f!==location.protocol?this.injectScript(a,c):this.xhrFetch(a,c)}},xhrFetch:function(a,b){var c=e?new XDomainRequest:new XMLHttpRequest;c.open("GET",this.endpoint+a);var d=this;c.onload=function(){try{var a=JSON.parse(c.responseText)}catch(e){console.error(e)}b.call(d,a)},c.send()},injectScript:function(a,b){var c,d=document.createElement("script");if(this.singleton)b===this.loadSheets?c="Tabletop.singleton.loadSheets":b===this.loadSheet&&(c="Tabletop.singleton.loadSheet");else{var e=this;c="tt"+ +new Date+Math.floor(1e5*Math.random()),j.callbacks[c]=function(){var a=Array.prototype.slice.call(arguments,0);b.apply(e,a),d.parentNode.removeChild(d),delete j.callbacks[c]},c="Tabletop.callbacks."+c}var f=a+"&callback="+c;d.src=this.simple_url?-1!==a.indexOf("/list/")?this.endpoint+"/"+this.key+"-"+a.split("/")[4]:this.endpoint+"/"+this.key:this.endpoint+f,this.parameterize&&(d.src=this.parameterize+encodeURIComponent(d.src)),document.getElementsByTagName("script")[0].parentNode.appendChild(d)},serverSideFetch:function(a,b){var d=this;c({url:this.endpoint+a,json:!0},function(a,c,e){return a?console.error(a):void b.call(d,e)})},isWanted:function(a){return 0===this.wanted.length?!0:-1!==i(this.wanted,a)},data:function(){return 0===this.model_names.length?void 0:this.simpleSheet?(this.model_names.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.model_names[0]].all()):this.models},addWanted:function(a){-1===i(this.wanted,a)&&this.wanted.push(a)},loadSheets:function(a){var c,e,f=[];for(this.foundSheetNames=[],c=0,e=a.feed.entry.length;e>c;c++)if(this.foundSheetNames.push(a.feed.entry[c].title.$t),this.isWanted(a.feed.entry[c].content.$t)){var g=a.feed.entry[c].link.length-1,h=a.feed.entry[c].link[g].href.split("/").pop(),i="/feeds/list/"+this.key+"/"+h+"/public/values?alt=";i+=b||d?"json":"json-in-script",this.query&&(i+="&sq="+this.query),this.orderby&&(i+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(i+="&reverse=true"),f.push(i)}for(this.sheetsToLoad=f.length,c=0,e=f.length;e>c;c++)this.requestData(f[c],this.loadSheet)},sheets:function(a){return"undefined"==typeof a?this.models:"undefined"==typeof this.models[a]?void 0:this.models[a]},loadSheet:function(a){var b=new j.Model({data:a,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this});this.models[b.name]=b,-1===i(this.model_names,b.name)&&this.model_names.push(b.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},j.Model=function(a){var b,c,d,e;if(this.column_names=[],this.name=a.data.feed.title.$t,this.elements=[],this.raw=a.data,"undefined"==typeof a.data.feed.entry)return a.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),void(this.elements=[]);for(var f in a.data.feed.entry[0])/^gsx/.test(f)&&this.column_names.push(f.replace("gsx$",""));for(b=0,d=a.data.feed.entry.length;d>b;b++){for(var g=a.data.feed.entry[b],h={},c=0,e=this.column_names.length;e>c;c++){var i=g["gsx$"+this.column_names[c]];h[this.column_names[c]]="undefined"!=typeof i?a.parseNumbers&&""!==i.$t&&!isNaN(i.$t)?+i.$t:i.$t:""}void 0===h.rowNumber&&(h.rowNumber=b+1),a.postProcess&&a.postProcess(h),this.elements.push(h)}},j.Model.prototype={all:function(){return this.elements},toArray:function(){var a,b,c,d,e=[];for(a=0,c=this.elements.length;c>a;a++){var f=[];for(b=0,d=this.column_names.length;d>b;b++)f.push(this.elements[a][this.column_names[b]]);e.push(f)}return e}},b?module.exports=j:a.Tabletop=j}(this),$(document).ready(function(){$(".popoverable").popover({}),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),$("a.tw").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"twitter",f),!1}),$("a.fb").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"facebook",f),!1})}),function(a){"use strict";var b=!1;if("undefined"!=typeof module&&module.exports){b=!0;var c=require("request")}var d=!1,e=!1;try{var f=new XMLHttpRequest;"undefined"!=typeof f.withCredentials?d=!0:"XDomainRequest"in window&&(d=!0,e=!0)}catch(g){}var h=Array.prototype.indexOf,i=function(a,b){var c=0,d=a.length;if(h&&a.indexOf===h)return a.indexOf(b);for(;d>c;c++)if(a[c]===b)return c;return-1},j=function(a){return this&&this instanceof j?("string"==typeof a&&(a={key:a}),this.callback=a.callback,this.wanted=a.wanted||[],this.key=a.key,this.simpleSheet=!!a.simpleSheet,this.parseNumbers=!!a.parseNumbers,this.wait=!!a.wait,this.reverse=!!a.reverse,this.postProcess=a.postProcess,this.debug=!!a.debug,this.query=a.query||"",this.orderby=a.orderby,this.endpoint=a.endpoint||"https://spreadsheets.google.com",this.singleton=!!a.singleton,this.simple_url=!!a.simple_url,this.callbackContext=a.callbackContext,"undefined"!=typeof a.proxy&&(this.endpoint=a.proxy.replace(/\/$/,""),this.simple_url=!0,this.singleton=!0,d=!1),this.parameterize=a.parameterize||!1,this.singleton&&("undefined"!=typeof j.singleton&&this.log("WARNING! Tabletop singleton already defined"),j.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)&")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.model_names=[],this.base_json_path="/feeds/worksheets/"+this.key+"/public/basic?alt=",this.base_json_path+=b||d?"json":"json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new j(a)};j.callbacks={},j.init=function(a){return new j(a)},j.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},j.prototype={fetch:function(a){"undefined"!=typeof a&&(this.callback=a),this.requestData(this.base_json_path,this.loadSheets)},requestData:function(a,c){if(b)this.serverSideFetch(a,c);else{var f=this.endpoint.split("//").shift()||"http";!d||e&&f!==location.protocol?this.injectScript(a,c):this.xhrFetch(a,c)}},xhrFetch:function(a,b){var c=e?new XDomainRequest:new XMLHttpRequest;c.open("GET",this.endpoint+a);var d=this;c.onload=function(){try{var a=JSON.parse(c.responseText)}catch(e){console.error(e)}b.call(d,a)},c.send()},injectScript:function(a,b){var c,d=document.createElement("script");if(this.singleton)b===this.loadSheets?c="Tabletop.singleton.loadSheets":b===this.loadSheet&&(c="Tabletop.singleton.loadSheet");else{var e=this;c="tt"+ +new Date+Math.floor(1e5*Math.random()),j.callbacks[c]=function(){var a=Array.prototype.slice.call(arguments,0);b.apply(e,a),d.parentNode.removeChild(d),delete j.callbacks[c]},c="Tabletop.callbacks."+c}var f=a+"&callback="+c;d.src=this.simple_url?-1!==a.indexOf("/list/")?this.endpoint+"/"+this.key+"-"+a.split("/")[4]:this.endpoint+"/"+this.key:this.endpoint+f,this.parameterize&&(d.src=this.parameterize+encodeURIComponent(d.src)),document.getElementsByTagName("script")[0].parentNode.appendChild(d)},serverSideFetch:function(a,b){var d=this;c({url:this.endpoint+a,json:!0},function(a,c,e){return a?console.error(a):void b.call(d,e)})},isWanted:function(a){return 0===this.wanted.length?!0:-1!==i(this.wanted,a)},data:function(){return 0===this.model_names.length?void 0:this.simpleSheet?(this.model_names.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.model_names[0]].all()):this.models},addWanted:function(a){-1===i(this.wanted,a)&&this.wanted.push(a)},loadSheets:function(a){var c,e,f=[];for(this.foundSheetNames=[],c=0,e=a.feed.entry.length;e>c;c++)if(this.foundSheetNames.push(a.feed.entry[c].title.$t),this.isWanted(a.feed.entry[c].content.$t)){var g=a.feed.entry[c].link.length-1,h=a.feed.entry[c].link[g].href.split("/").pop(),i="/feeds/list/"+this.key+"/"+h+"/public/values?alt=";i+=b||d?"json":"json-in-script",this.query&&(i+="&sq="+this.query),this.orderby&&(i+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(i+="&reverse=true"),f.push(i)}for(this.sheetsToLoad=f.length,c=0,e=f.length;e>c;c++)this.requestData(f[c],this.loadSheet)},sheets:function(a){return"undefined"==typeof a?this.models:"undefined"==typeof this.models[a]?void 0:this.models[a]},loadSheet:function(a){var b=new j.Model({data:a,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this});this.models[b.name]=b,-1===i(this.model_names,b.name)&&this.model_names.push(b.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},j.Model=function(a){var b,c,d,e;if(this.column_names=[],this.name=a.data.feed.title.$t,this.elements=[],this.raw=a.data,"undefined"==typeof a.data.feed.entry)return a.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),void(this.elements=[]);for(var f in a.data.feed.entry[0])/^gsx/.test(f)&&this.column_names.push(f.replace("gsx$",""));for(b=0,d=a.data.feed.entry.length;d>b;b++){for(var g=a.data.feed.entry[b],h={},c=0,e=this.column_names.length;e>c;c++){var i=g["gsx$"+this.column_names[c]];h[this.column_names[c]]="undefined"!=typeof i?a.parseNumbers&&""!==i.$t&&!isNaN(i.$t)?+i.$t:i.$t:""}void 0===h.rowNumber&&(h.rowNumber=b+1),a.postProcess&&a.postProcess(h),this.elements.push(h)}},j.Model.prototype={all:function(){return this.elements},toArray:function(){var a,b,c,d,e=[];for(a=0,c=this.elements.length;c>a;a++){var f=[];for(b=0,d=this.column_names.length;d>b;b++)f.push(this.elements[a][this.column_names[b]]);e.push(f)}return e}},b?module.exports=j:a.Tabletop=j}(this),$(document).ready(function(){$(".popoverable").popover({}),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),$("a.tw").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"twitter",f),!1}),$("a.fb").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"facebook",f),!1})}),function(a){"use strict";var b=!1;if("undefined"!=typeof module&&module.exports){b=!0;var c=require("request")}var d=!1,e=!1;try{var f=new XMLHttpRequest;"undefined"!=typeof f.withCredentials?d=!0:"XDomainRequest"in window&&(d=!0,e=!0)}catch(g){}var h=Array.prototype.indexOf,i=function(a,b){var c=0,d=a.length;if(h&&a.indexOf===h)return a.indexOf(b);for(;d>c;c++)if(a[c]===b)return c;return-1},j=function(a){return this&&this instanceof j?("string"==typeof a&&(a={key:a}),this.callback=a.callback,this.wanted=a.wanted||[],this.key=a.key,this.simpleSheet=!!a.simpleSheet,this.parseNumbers=!!a.parseNumbers,this.wait=!!a.wait,this.reverse=!!a.reverse,this.postProcess=a.postProcess,this.debug=!!a.debug,this.query=a.query||"",this.orderby=a.orderby,this.endpoint=a.endpoint||"https://spreadsheets.google.com",this.singleton=!!a.singleton,this.simple_url=!!a.simple_url,this.callbackContext=a.callbackContext,"undefined"!=typeof a.proxy&&(this.endpoint=a.proxy.replace(/\/$/,""),this.simple_url=!0,this.singleton=!0,d=!1),this.parameterize=a.parameterize||!1,this.singleton&&("undefined"!=typeof j.singleton&&this.log("WARNING! Tabletop singleton already defined"),j.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)&")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.model_names=[],this.base_json_path="/feeds/worksheets/"+this.key+"/public/basic?alt=",this.base_json_path+=b||d?"json":"json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new j(a)};j.callbacks={},j.init=function(a){return new j(a)},j.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},j.prototype={fetch:function(a){"undefined"!=typeof a&&(this.callback=a),this.requestData(this.base_json_path,this.loadSheets)},requestData:function(a,c){if(b)this.serverSideFetch(a,c);else{var f=this.endpoint.split("//").shift()||"http";!d||e&&f!==location.protocol?this.injectScript(a,c):this.xhrFetch(a,c)}},xhrFetch:function(a,b){var c=e?new XDomainRequest:new XMLHttpRequest;c.open("GET",this.endpoint+a);var d=this;c.onload=function(){try{var a=JSON.parse(c.responseText)}catch(e){console.error(e)}b.call(d,a)},c.send()},injectScript:function(a,b){var c,d=document.createElement("script");if(this.singleton)b===this.loadSheets?c="Tabletop.singleton.loadSheets":b===this.loadSheet&&(c="Tabletop.singleton.loadSheet");else{var e=this;c="tt"+ +new Date+Math.floor(1e5*Math.random()),j.callbacks[c]=function(){var a=Array.prototype.slice.call(arguments,0);b.apply(e,a),d.parentNode.removeChild(d),delete j.callbacks[c]},c="Tabletop.callbacks."+c}var f=a+"&callback="+c;d.src=this.simple_url?-1!==a.indexOf("/list/")?this.endpoint+"/"+this.key+"-"+a.split("/")[4]:this.endpoint+"/"+this.key:this.endpoint+f,this.parameterize&&(d.src=this.parameterize+encodeURIComponent(d.src)),document.getElementsByTagName("script")[0].parentNode.appendChild(d)},serverSideFetch:function(a,b){var d=this;c({url:this.endpoint+a,json:!0},function(a,c,e){return a?console.error(a):void b.call(d,e)})},isWanted:function(a){return 0===this.wanted.length?!0:-1!==i(this.wanted,a)},data:function(){return 0===this.model_names.length?void 0:this.simpleSheet?(this.model_names.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.model_names[0]].all()):this.models},addWanted:function(a){-1===i(this.wanted,a)&&this.wanted.push(a)},loadSheets:function(a){var c,e,f=[];for(this.foundSheetNames=[],c=0,e=a.feed.entry.length;e>c;c++)if(this.foundSheetNames.push(a.feed.entry[c].title.$t),this.isWanted(a.feed.entry[c].content.$t)){var g=a.feed.entry[c].link.length-1,h=a.feed.entry[c].link[g].href.split("/").pop(),i="/feeds/list/"+this.key+"/"+h+"/public/values?alt=";i+=b||d?"json":"json-in-script",this.query&&(i+="&sq="+this.query),this.orderby&&(i+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(i+="&reverse=true"),f.push(i)}for(this.sheetsToLoad=f.length,c=0,e=f.length;e>c;c++)this.requestData(f[c],this.loadSheet)},sheets:function(a){return"undefined"==typeof a?this.models:"undefined"==typeof this.models[a]?void 0:this.models[a]},loadSheet:function(a){var b=new j.Model({data:a,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this});this.models[b.name]=b,-1===i(this.model_names,b.name)&&this.model_names.push(b.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},j.Model=function(a){var b,c,d,e;if(this.column_names=[],this.name=a.data.feed.title.$t,this.elements=[],this.raw=a.data,"undefined"==typeof a.data.feed.entry)return a.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),void(this.elements=[]);for(var f in a.data.feed.entry[0])/^gsx/.test(f)&&this.column_names.push(f.replace("gsx$",""));for(b=0,d=a.data.feed.entry.length;d>b;b++){for(var g=a.data.feed.entry[b],h={},c=0,e=this.column_names.length;e>c;c++){var i=g["gsx$"+this.column_names[c]];h[this.column_names[c]]="undefined"!=typeof i?a.parseNumbers&&""!==i.$t&&!isNaN(i.$t)?+i.$t:i.$t:""}void 0===h.rowNumber&&(h.rowNumber=b+1),a.postProcess&&a.postProcess(h),this.elements.push(h)}},j.Model.prototype={all:function(){return this.elements},toArray:function(){var a,b,c,d,e=[];for(a=0,c=this.elements.length;c>a;a++){var f=[];for(b=0,d=this.column_names.length;d>b;b++)f.push(this.elements[a][this.column_names[b]]);e.push(f)}return e}},b?module.exports=j:a.Tabletop=j}(this),$(document).ready(function(){$(".popoverable").popover({}),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),$("a.tw").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"twitter",f),!1}),$("a.fb").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"facebook",f),!1})}),function(a){"use strict";var b=!1;if("undefined"!=typeof module&&module.exports){b=!0;var c=require("request")}var d=!1,e=!1;try{var f=new XMLHttpRequest;"undefined"!=typeof f.withCredentials?d=!0:"XDomainRequest"in window&&(d=!0,e=!0)}catch(g){}var h=Array.prototype.indexOf,i=function(a,b){var c=0,d=a.length;if(h&&a.indexOf===h)return a.indexOf(b);for(;d>c;c++)if(a[c]===b)return c;return-1},j=function(a){return this&&this instanceof j?("string"==typeof a&&(a={key:a}),this.callback=a.callback,this.wanted=a.wanted||[],this.key=a.key,this.simpleSheet=!!a.simpleSheet,this.parseNumbers=!!a.parseNumbers,this.wait=!!a.wait,this.reverse=!!a.reverse,this.postProcess=a.postProcess,this.debug=!!a.debug,this.query=a.query||"",this.orderby=a.orderby,this.endpoint=a.endpoint||"https://spreadsheets.google.com",this.singleton=!!a.singleton,this.simple_url=!!a.simple_url,this.callbackContext=a.callbackContext,"undefined"!=typeof a.proxy&&(this.endpoint=a.proxy.replace(/\/$/,""),this.simple_url=!0,this.singleton=!0,d=!1),this.parameterize=a.parameterize||!1,this.singleton&&("undefined"!=typeof j.singleton&&this.log("WARNING! Tabletop singleton already defined"),j.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)&")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.model_names=[],this.base_json_path="/feeds/worksheets/"+this.key+"/public/basic?alt=",this.base_json_path+=b||d?"json":"json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new j(a)};j.callbacks={},j.init=function(a){return new j(a)},j.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},j.prototype={fetch:function(a){"undefined"!=typeof a&&(this.callback=a),this.requestData(this.base_json_path,this.loadSheets)},requestData:function(a,c){if(b)this.serverSideFetch(a,c);else{var f=this.endpoint.split("//").shift()||"http";!d||e&&f!==location.protocol?this.injectScript(a,c):this.xhrFetch(a,c)}},xhrFetch:function(a,b){var c=e?new XDomainRequest:new XMLHttpRequest;c.open("GET",this.endpoint+a);var d=this;c.onload=function(){try{var a=JSON.parse(c.responseText)}catch(e){console.error(e)}b.call(d,a)},c.send()},injectScript:function(a,b){var c,d=document.createElement("script");if(this.singleton)b===this.loadSheets?c="Tabletop.singleton.loadSheets":b===this.loadSheet&&(c="Tabletop.singleton.loadSheet");else{var e=this;c="tt"+ +new Date+Math.floor(1e5*Math.random()),j.callbacks[c]=function(){var a=Array.prototype.slice.call(arguments,0);b.apply(e,a),d.parentNode.removeChild(d),delete j.callbacks[c]},c="Tabletop.callbacks."+c}var f=a+"&callback="+c;d.src=this.simple_url?-1!==a.indexOf("/list/")?this.endpoint+"/"+this.key+"-"+a.split("/")[4]:this.endpoint+"/"+this.key:this.endpoint+f,this.parameterize&&(d.src=this.parameterize+encodeURIComponent(d.src)),document.getElementsByTagName("script")[0].parentNode.appendChild(d)},serverSideFetch:function(a,b){var d=this;c({url:this.endpoint+a,json:!0},function(a,c,e){return a?console.error(a):void b.call(d,e)})},isWanted:function(a){return 0===this.wanted.length?!0:-1!==i(this.wanted,a)},data:function(){return 0===this.model_names.length?void 0:this.simpleSheet?(this.model_names.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.model_names[0]].all()):this.models},addWanted:function(a){-1===i(this.wanted,a)&&this.wanted.push(a)},loadSheets:function(a){var c,e,f=[];for(this.foundSheetNames=[],c=0,e=a.feed.entry.length;e>c;c++)if(this.foundSheetNames.push(a.feed.entry[c].title.$t),this.isWanted(a.feed.entry[c].content.$t)){var g=a.feed.entry[c].link.length-1,h=a.feed.entry[c].link[g].href.split("/").pop(),i="/feeds/list/"+this.key+"/"+h+"/public/values?alt=";i+=b||d?"json":"json-in-script",this.query&&(i+="&sq="+this.query),this.orderby&&(i+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(i+="&reverse=true"),f.push(i)}for(this.sheetsToLoad=f.length,c=0,e=f.length;e>c;c++)this.requestData(f[c],this.loadSheet)},sheets:function(a){return"undefined"==typeof a?this.models:"undefined"==typeof this.models[a]?void 0:this.models[a]
},loadSheet:function(a){var b=new j.Model({data:a,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this});this.models[b.name]=b,-1===i(this.model_names,b.name)&&this.model_names.push(b.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},j.Model=function(a){var b,c,d,e;if(this.column_names=[],this.name=a.data.feed.title.$t,this.elements=[],this.raw=a.data,"undefined"==typeof a.data.feed.entry)return a.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),void(this.elements=[]);for(var f in a.data.feed.entry[0])/^gsx/.test(f)&&this.column_names.push(f.replace("gsx$",""));for(b=0,d=a.data.feed.entry.length;d>b;b++){for(var g=a.data.feed.entry[b],h={},c=0,e=this.column_names.length;e>c;c++){var i=g["gsx$"+this.column_names[c]];h[this.column_names[c]]="undefined"!=typeof i?a.parseNumbers&&""!==i.$t&&!isNaN(i.$t)?+i.$t:i.$t:""}void 0===h.rowNumber&&(h.rowNumber=b+1),a.postProcess&&a.postProcess(h),this.elements.push(h)}},j.Model.prototype={all:function(){return this.elements},toArray:function(){var a,b,c,d,e=[];for(a=0,c=this.elements.length;c>a;a++){var f=[];for(b=0,d=this.column_names.length;d>b;b++)f.push(this.elements[a][this.column_names[b]]);e.push(f)}return e}},b?module.exports=j:a.Tabletop=j}(this),$(document).ready(function(){$(".popoverable").popover({}),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),$("a.tw").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"twitter",f),!1}),$("a.fb").on("click",function(){var a=575,b=400,c=($(window).width()-a)/2,d=($(window).height()-b)/2,e=this.href,f="status=1,width="+a+",height="+b+",top="+d+",left="+c;return window.open(e,"facebook",f),!1})});